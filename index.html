<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="https://code.createjs.com/easeljs-0.8.2.min.js"></script>
    <script>
      function init() {
        // code here.'
        var canvas = document.getElementById("demoCanvas");
        this.canvas = canvas;
        var stage = new createjs.Stage(canvas);
        var circle = new createjs.Shape();
        this.stage = stage;
      	// enable touch interactions if supported on the current device:
      	createjs.Touch.enable(stage);

      	// enabled mouse over / out events
      	stage.enableMouseOver(20);
      	stage.mouseMoveOutside = true; // keep tracking the mouse even //when it leaves the canvas
        stage.mouseInBounds = true;

        // load the source image:
        var image = new Image();
        image.src = "./book.png";
        this.image = image;
        image.onload = handleImageLoad;

        // var g = new createjs.Graphics();
        // // myGraphics.beginStroke("red").beginFill("blue").drawRect(20, 20, 100, 50);
        circle.graphics.beginFill("DeepSkyBlue").drawCircle(100, 100, 50);
        circle.x = 100;
        circle.y = 100;
        stage.addChild(circle);
        stage.update();
      }


      function handleImageLoad(event) {
      	var image = this.image;
      	var bitmap;
      	var container = new createjs.Container();
      	this.stage.addChild(container);

      	// create and populate the screen with random daisies:
      	for (var i = 0; i < 100; i++) {
      		bitmap = new createjs.Bitmap(image);
      		container.addChild(bitmap);
      		bitmap.x = this.canvas.width * Math.random() | 0;
      		bitmap.y = this.canvas.height * Math.random() | 0;
      		bitmap.rotation = 360 * Math.random() | 0;
      		bitmap.regX = bitmap.image.width / 2 | 0;
      		bitmap.regY = bitmap.image.height / 2 | 0;
      		bitmap.scaleX = bitmap.scaleY = bitmap.scale = Math.random() * 0.4 + 0.6;
      		bitmap.name = "bmp_" + i;
      		bitmap.cursor = "pointer";

      		// using "on" binds the listener to the scope of the currentTarget by default
      		// in this case that means it executes in the scope of the button.
      		bitmap.on("mousedown", function (evt) {
      			this.parent.addChild(this);
      			this.offset = {x: this.x - evt.stageX, y: this.y - evt.stageY};
      		});

      		// the pressmove event is dispatched when the mouse moves after a mousedown on the target until the mouse is released.
      		bitmap.on("pressmove", function (evt) {
      			this.x = evt.stageX + this.offset.x;
      			this.y = evt.stageY + this.offset.y;
      			// indicate that the stage should be updated on the next tick:
      			update = true;
      		});

      		bitmap.on("rollover", function (evt) {
      			this.scaleX = this.scaleY = this.scale * 1.2;
      			update = true;
      		});

      		bitmap.on("rollout", function (evt) {
      			this.scaleX = this.scaleY = this.scale;
      			update = true;
      		});

      	}

      	examples.hideDistractor();
      	createjs.Ticker.addEventListener("tick", tick);
      }

    </script>
    <title></title>
  </head>
    <body onload="init();">
      <canvas id="demoCanvas" width="600" height="500"></canvas>
    </body>
</html>
